{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","components/News/News.module.css","components/Users/Users.module.css","assets/images/default-icon.png","assets/images/preload.gif","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","components/News/News.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","components/common/Preloader/Preloader.jsx","components/common/FormControls/FormControls.js","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","hoc/withAuthRedirect.jsx","redux/profile-reducer.js"],"names":["initialState","messagesData","id","message","dialogsData","name","addMessageActionCreator","type","dialogsReducer","state","arguments","length","undefined","action","newMessage","Object","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","concat","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","headers","API-KEY","baseURL","getUsers","currentPage","pageSize","get","then","response","data","deleteUsers","delete","followUsers","post","getProfile","userId","console","warn","getStatus","updateStatus","status","put","auth","login","email","password","rememberMe","logout","module","exports","news","userPhoto","p","nav","item","activeLinkBagda","friends","friend","users","Boolean","window","location","hostname","match","Navbar","props","react_default","a","createElement","className","classes","react_router_dom","to","activeClassName","News","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","objectSpread","totalUsersCount","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","setUsers","setCurrentPage","setTotalUsersCount","totalNumber","count","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","wrap","_context2","prev","next","sent","resultCode","stop","_x2","apply","this","usersReducer","followed","toConsumableArray","filter","Paginator","_ref","onPageChanged","totalItemsCount","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","key","selectedItems","e","User","user","follow","unfollow","src","photos","small","disabled","some","Users","objectWithoutProperties","Paginator_Paginator","User_User","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","requestUsers","_this$props","Fragment","Preloader","components_Users_Users","React","Component","compose","connect","bind","page","_callee","_context","totalCount","_x","withAuthRedirect","Header","header","alt","isAuth","setAuthUserData","payload","getAuthUserData","_response$data$data","_login","authReducer","HeaderContainer","components_Header_Header","_ref3","_callee3","_context3","_x3","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","error","handleSubmit","onSubmit","createField","requiredField","Input","commonError","messages","stopSubmit","_error","react_router","formData","initialized","appReducer","friendsList","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializedApp","Header_HeaderContainer","components_Navbar_Navbar","render","path","Users_UsersContainer","component","components_Login_Login","AppContainer","promise","Promise","all","SamuraiJSApp","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_preload_gif__WEBPACK_IMPORTED_MODULE_1__","_assets_images_preload_gif__WEBPACK_IMPORTED_MODULE_1___default","preloader","FormControl","input","_ref$meta","meta","touched","child","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","st","redBorder","redText","children","Textarea","restProps","assign","placeholder","validators","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","value","maxLength","selectedPage","mapStateToPropsForRedirect","RedirectComponent","_React$Component","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","postsData","likesCount","profile","addPostActionCreator","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","setStatus","newPost","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_Users_Desktop_React_React_learn_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","deleteId"],"mappings":"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","file":"static/js/main.e49deb5e.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {id: '1', message: 'I am Jack. Nice to meet you, Sandra'},\r\n        {id: '2', message: 'Glad to see you too, Jack. Are you alone at this party?'},\r\n        {id: '3', message: 'Yes, I am. My friend has fallen ill today and decided to stay at home. And you?'}\r\n      ],\r\n      dialogsData: [\r\n        {name: 'Max', id: '1'},\r\n        {name: 'Dimych', id: '2'},\r\n        {name: 'Vitya', id: '3'},\r\n        {name: 'Dyadya', id: '4'}\r\n      ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage = {\r\n                id: 8,\r\n                message: action.message\r\n              };\r\n              \r\n             return {\r\n                  ...state,\r\n                  messagesData: [...state.messagesData, newMessage],\r\n                };\r\n            }\r\n        default:\r\n            return state;\r\n    }    \r\n}\r\n\r\nexport const addMessageActionCreator = (message) => ({\r\n    type: ADD_MESSAGE,\r\n    message\r\n});\r\n\r\nexport default dialogsReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"6b9a45f9-791d-4772-bc1f-c5dba8f157ad\",\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    deleteUsers(id) {\r\n        return instance.delete(`follow/${id}`).then(response => response.data);\r\n    },\r\n    followUsers(id) {\r\n        return instance.post(`follow/${id}`).then(response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Use profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId).then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId).then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status}).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__9fnZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3y7zd\"};","module.exports = __webpack_public_path__ + \"static/media/default-icon.464780f3.png\";","module.exports = __webpack_public_path__ + \"static/media/preload.087f5d2f.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1O7vR\",\"item\":\"Navbar_item__3idXD\",\"activeLinkBagda\":\"Navbar_activeLinkBagda__1xvr5\",\"friends\":\"Navbar_friends__fCKyD\",\"friend\":\"Navbar_friend__1KEAy\",\"users\":\"Navbar_users__rEA1W\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n  \r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={classes.activeLinkBagda}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={classes.activeLinkBagda}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.activeLinkBagda}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music'>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings'>Settings</NavLink>\r\n            </div>\r\n            <div className={classes.item + ' ' + classes.users }>\r\n                <NavLink to='/users'>List of Users</NavLink>\r\n            </div>\r\n            <div className={classes.friends}>\r\n                Friends: \r\n            </div>\r\n        </nav>\r\n    )\r\n} \r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div className={classes.news}>This is News</div>\r\n    );\r\n}\r\n\r\nexport default News;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count }\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({\r\n    type: FOLLOW,\r\n    userID: userID\r\n});\r\nexport const unfollowSuccess = (userID) => ({\r\n    type: UNFOLLOW,\r\n    userID: userID\r\n});\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users\r\n})\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n})\r\nexport const setTotalUsersCount = (totalNumber) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalNumber\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\n\r\n// helper \r\n\r\nconst followUnfollowFlow = (userId, apiMethod, actionCreator) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let data = await apiMethod(userId);\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return followUnfollowFlow(userId, usersAPI.deleteUsers.bind(usersAPI), unfollowSuccess);\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return followUnfollowFlow(userId, usersAPI.followUsers.bind(usersAPI), followSuccess);\r\n}\r\n\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\nexport const Paginator = ({ currentPage, onPageChanged, totalItemsCount, pageSize, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    //console.log(`totalItemsCount = ${totalItemsCount}, pageSize = ${pageSize}, pagesCount = ${pagesCount}`)\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (<div className={styles.paginator} >\r\n        {\r\n            portionNumber > 1 && <button onClick={() => { setPortionNumber(portionNumber - 1) }}> PREV </button>\r\n        }\r\n        {\r\n            pages.filter(p => p >= leftPortionPageNumber && p\r\n                <= rightPortionPageNumber)\r\n                .map(p => <span key={p} className={currentPage == p ? styles.selectedItems : 'noclass'}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p)\r\n                    }}>{p}</span>)\r\n        }\r\n        {\r\n            portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>\r\n        }\r\n    </div>)\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/default-icon.png';\r\n\r\nexport const User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return ( <div >\r\n        <span>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id} >\r\n                    <img className={styles.userPhoto} src={user.photos.small != null ? user.photos : userPhoto} />\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                        unfollow(user.id);\r\n\r\n                    }}>Unfollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                        follow(user.id)\r\n                    }}>Follow</button>}\r\n            </div>\r\n        </span>\r\n        <span>\r\n            <span>\r\n                <div>{user.name}</div><div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                {/* <div>{user.location.country}</div> */}\r\n                {/* <div>{user.location.city}</div> */}\r\n            </span>\r\n        </span>\r\n    </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\n\r\nimport * as axios from 'axios';\r\nimport { usersAPI } from '../../api/api';\r\nimport { Paginator } from '../common/Paginator/Paginator';\r\nimport { User } from './User';\r\nlet Users = ({ currentPage, onPageChanged, totalUsersCount, pageSize, followingInProgress, follow, unfollow, users, ...props }) => {\r\n\r\n    return <div>\r\n\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize} />\r\n\r\n        {\r\n            users.map(u => <User user={u}\r\n                key={u.id}\r\n                followingInProgress={followingInProgress}\r\n                unfollow={unfollow}\r\n                follow={follow} />)\r\n        }\r\n    </div>\r\n}\r\nexport default Users;","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import { connect } from 'react-redux';\r\nimport { followSuccess, unfollowSuccess, setUsers, setCurrentPage, setTotalUsersCount, toggleIsFetching, toggleFollowingProgress } from '../../redux/users-reducer';\r\nimport React from 'react';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {follow, unfollow, requestUsers} from '../../redux/users-reducer';\r\nimport { compose } from '../../../../../../AppData/Local/Microsoft/TypeScript/3.6/node_modules/redux';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader />\r\n                : null}\r\n            <Users\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                followSuccess={this.props.followSuccess}\r\n                unfollowSuccess={this.props.unfollowSuccess}\r\n                onPageChanged={this.onPageChanged}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => {\r\n//             dispatch(followAC(userID))\r\n//         },\r\n//         unfollow: (userID) => {\r\n//             dispatch(unfollowAC(userID))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (number) => {\r\n//             dispatch(setCurrentPageAC(number))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setUsers,\r\n        setCurrentPage,\r\n        setTotalUsersCount,\r\n        toggleIsFetching,\r\n        requestUsers\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst Header = (props) => {\r\n    return <header className={classes.header}>\r\n        <img src='https://store-fit.nethouse.ru/static/img/0000/0008/4990/84990387.39nh48juwd.W215.png' alt='test' />\r\n        { props.isAuth ? <div>{props.login} ---- <button onClick={props.logout}>Logout</button></div>  \r\n        : <div className={classes.login} >\r\n            <NavLink to={'/login'} >Login</NavLink>\r\n        </div> }\r\n       \r\n    </header>\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'social-max/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: { userId, email, login, isAuth }\r\n})\r\n\r\nexport const getAuthUserData = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.auth()\r\n        if (response.data.resultCode === 0) {\r\n            let { id, login, email } = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe = false) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    }\r\n    else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', { _error: message }))\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {getAuthUserData} from '../../redux/auth-reducer';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData();\r\n    }\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input, createField } from '../common/FormControls/FormControls';\r\nimport { requiredField, maxLengthCreator } from '../../utils/validators/validators';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from '../common/FormControls/FormControls.module.css';\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n}\r\nlet maxLength30 = maxLengthCreator(30);\r\nconst LoginForm = ({ error, handleSubmit }) => {\r\n    return (<form onSubmit={handleSubmit}>\r\n        {createField('username', 'email', [requiredField, maxLength30], Input, {}, '')}\r\n        {createField('password', 'password', [requiredField, maxLength30], Input, { type: 'password' }, '')}\r\n        {createField('', 'rememberMe', [], 'input', { type: 'checkbox' }, '')}\r\n        <div>\r\n            <button>Submit</button>\r\n        </div>\r\n        {error && <div className={styles.commonError}>{error}</div>}\r\n    </form>)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: \r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS,\r\n})\r\n\r\nexport const initializedApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        Promise.all([promise]).then( () => { dispatch( initializedSuccess() ) })\r\n    }\r\n}\r\nexport default appReducer;","let initialState = {\r\n    friendsList: [\r\n        {name: 'Lilya', id: '1'},\r\n        {name: 'Nastya', id: '2'},\r\n        {name: 'Liza', id: '3'},\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    \r\n    return state;\r\n}\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\n\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\n\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { initializedApp } from './redux/app-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from '../../../../AppData/Local/Microsoft/TypeScript/3.6/node_modules/redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\nclass App extends React.Component {\r\n  // DComponent = () =>\r\n  //   <React.Suspense fallback={<div>Loading... for Bagda Max</div>}>\r\n  //     <DialogsContainer store={this.props.store} />\r\n  //   </React.Suspense>\r\n  // DProfile = () =>\r\n  //   <React.Suspense fallback={<div>Loading... for Bagda Max</div>}>\r\n  //     <ProfileContainer store={this.props.store} />\r\n  //   </React.Suspense>\r\n\r\n  componentDidMount() {\r\n    this.props.initializedApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className='app-wrapper-content'>\r\n          <Route render={withSuspense(DialogsContainer)} path='/dialogs' />\r\n          <Route render={withSuspense(ProfileContainer)} path='/profile/:userId?' />\r\n          <Route render={() => <UsersContainer />} path='/users' />\r\n          <Route component={News} path='/news' />\r\n          <Route path='/login' render={() => <LoginPage />} />\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\nlet mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose( // there was withRouter\r\n  connect(mapStateToProps, { initializedApp }))(App);\r\n\r\nlet SamuraiJSApp = (props) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default SamuraiJSApp;\r\n","\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport SamuraiJSApp from './App';\r\n\r\n\r\n  ReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n     document.getElementById('root'));\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preload.gif';\r\n\r\nlet Preloader = () => {\r\n   return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport st from './FormControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta:{touched, error}, child, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={st.redBorder + ' ' + hasError ? st.redText : \"\"}>\r\n            {props.children}\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}></textarea></FormControl>\r\n}\r\n\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => {\r\n    return <div><Field placeholder={placeholder} component={component}\r\n        name={name} validate={validators} {...props} /> {text}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"redBorder\":\"FormControls_redBorder__5dIrA\",\"redText\":\"FormControls_redText__30y5z\",\"commonError\":\"FormControls_commonError__gsymU\"};","import React from 'react';\r\n\r\nexport const requiredField = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => (value) => {\r\n    if (value.length > maxLength) {\r\n        return `Maximum length is ${maxLength} symbols`;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedItems\":\"Paginator_selectedItems__2Snhm\",\"paginator\":\"Paginator_paginator__3C3hG\",\"pageNumber\":\"Paginator_pageNumber__bsztr\",\"selectedPage\":\"Paginator_selectedPage__14dh3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2uIBC\",\"login\":\"Header_login__NY4UT\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n        \r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: '1', message: 'Hello Max', likesCount: '11' },\r\n        { id: '2', message: 'You are very strong', likesCount: '4' },\r\n        { id: '3', message: 'Hey', likesCount: '99' },\r\n        { id: '4', message: 'Hey', likesCount: '34' },\r\n        { id: '5', message: 'Hey', likesCount: '66' },\r\n        { id: '6', message: 'Hey', likesCount: '23' }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.value,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        // TDD\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id != action.deleteId)\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (value) => ({\r\n    type: ADD_POST,\r\n    value\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await usersAPI.getProfile(userId);\r\n            dispatch(setUserProfile(data));\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n})\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\n// for TDD\r\nexport const deletePost = (deleteId) => ({\r\n    type: DELETE_POST,\r\n    deleteId\r\n})\r\n\r\nexport default profileReducer;"],"sourceRoot":""}